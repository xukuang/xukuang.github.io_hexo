

<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>R中的文本处理 | YiYuZhiJian</title>
  <meta name="author" content="kuang xu">
  
  <meta name="description" content="Walk steps step by step">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="R中的文本处理"/>
  <meta property="og:site_name" content="YiYuZhiJian"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="YiYuZhiJian" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//libs.baidu.com/jquery/1.8.0/jquery.min.js"></script>
</head>


<body>
  <header id="header" class="inner">
<div class="alignleft">
  <h1><a href="/">YiYuZhiJian</a></h1>
  <h2><a href="/">你害怕一件事，可还是要去做，那才是勇敢。</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">归档</a></li>
    
      <li><a href="/about">关于</a></li>
    
	    <li> <a href="/atom.xml">RSS</a> </li>
<li> <a title="把这个链接拖到你的Chrome收藏夹工具栏中" href='javascript:(function() {
	function c() {
		var e = document.createElement("link");
		e.setAttribute("type", "text/css");
		e.setAttribute("rel", "stylesheet");
		e.setAttribute("href", f);
		e.setAttribute("class", l);
		document.body.appendChild(e)
	}
 
	function h() {
		var e = document.getElementsByClassName(l);
		for (var t = 0; t < e.length; t++) {
			document.body.removeChild(e[t])
		}
	}
 
	function p() {
		var e = document.createElement("div");
		e.setAttribute("class", a);
		document.body.appendChild(e);
		setTimeout(function() {
			document.body.removeChild(e)
		}, 100)
	}
 
	function d(e) {
		return {
			height : e.offsetHeight,
			width : e.offsetWidth
		}
	}
 
	function v(i) {
		var s = d(i);
		return s.height > e && s.height < n && s.width > t && s.width < r
	}
 
	function m(e) {
		var t = e;
		var n = 0;
		while (!!t) {
			n += t.offsetTop;
			t = t.offsetParent
		}
		return n
	}
 
	function g() {
		var e = document.documentElement;
		if (!!window.innerWidth) {
			return window.innerHeight
		} else if (e && !isNaN(e.clientHeight)) {
			return e.clientHeight
		}
		return 0
	}
 
	function y() {
		if (window.pageYOffset) {
			return window.pageYOffset
		}
		return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
	}
 
	function E(e) {
		var t = m(e);
		return t >= w && t <= b + w
	}
 
	function S() {
		var e = document.createElement("audio");
		e.setAttribute("class", l);
		e.src = i;
		e.loop = false;
		e.addEventListener("canplay", function() {
			setTimeout(function() {
				x(k)
			}, 500);
			setTimeout(function() {
				N();
				p();
				for (var e = 0; e < O.length; e++) {
					T(O[e])
				}
			}, 15500)
		}, true);
		e.addEventListener("ended", function() {
			N();
			h()
		}, true);
		e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
		document.body.appendChild(e);
		e.play()
	}
 
	function x(e) {
		e.className += " " + s + " " + o
	}
 
	function T(e) {
		e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
	}
 
	function N() {
		var e = document.getElementsByClassName(s);
		var t = new RegExp("\\b" + s + "\\b");
		for (var n = 0; n < e.length; ) {
			e[n].className = e[n].className.replace(t, "")
		}
	}
 
	var e = 30;
	var t = 30;
	var n = 350;
	var r = 350;
	var i = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";
	var s = "mw-harlem_shake_me";
	var o = "im_first";
	var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
	var a = "mw-strobe_light";
	var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";
	var l = "mw_added_css";
	var b = g();
	var w = y();
	var C = document.getElementsByTagName("*");
	var k = null;
	for (var L = 0; L < C.length; L++) {
		var A = C[L];
		if (v(A)) {
			if (E(A)) {
				k = A;
				break
			}
		}
	}
	if (A === null) {
		console.warn("Could not find a node of the right size. Please try a different page.");
		return
	}
	c();
	S();
	var O = [];
	for (var L = 0; L < C.length; L++) {
		var A = C[L];
		if (v(A)) {
			O.push(A)
		}
	}
})()    '>High一下</a> </li>

  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-02-28T00:14:59.000Z"><a href="/2016/02/27/char-in-R/">2月27 2016</a></time>
      
      
  
    <h1 class="title">R中的文本处理</h1>
  

    </header>
    <div class="entry">
      
        <blockquote>
<p>处理文本是每一种计算机语言都应该具备的功能，但不是每一种语言都侧重于处理文本。R语言是统计的语言，处理文本不是它的强项。尽管R语言处理文本的能力不够强，但适当使用可以大幅提高工作效率的，而且有些文本操作还不得不用。高效处理文本少不了正则表达式（regular expression），虽然R在这方面先天不高效，但其中处理文本的绝大多数函数都支持正则表达式。</p>
</blockquote>
<h2 id="正则表达式">正则表达式</h2><p>正则表达式是用于描述/匹配一个文本集合的表达式。它不是R的专属内容，这里也只简单介绍，更详细的内容请查阅其他文章。<a id="more"></a></p>
<ol>
<li>所有英文字母、数字和很多可显示的字符本身就是正则表达式，用于匹配它们自己。比如 ‘a’ 就是匹配字母 ‘a’ 的正则表达式</li>
<li><p>一些特殊的字符在正则表达式中不在用来描述它自身，它们在正则表达式中已经被“转义”，这些字符称为“元字符”。perl类型的正则表达式中被转义的字符有：. \ | ( ) [ ] { } ^ \$ * + ?。被转义的字符特殊的意义如下:</p>
<ul>
<li>\^放在表达式开始处表示匹配文本开始位置，放在方括号内开始处表示非方括号内的任一字符</li>
<li>\$ 匹配一个字符串的结尾</li>
<li>点号. 表示除了换行符以外的任一字符</li>
<li>* 表示将其前的字符进行0个或多个的匹配</li>
<li>.* 可以匹配任意字符</li>
<li>+ 匹配1或多个正好在它之前的那个字符</li>
<li>? 匹配0或1个正好在它之前的那个字符</li>
<li>大括号{}表示前面的字符或表达式的重复次数</li>
<li>方括号[]表示选择方括号中的任意一个（如[a-z] 表示任意一个小写字符）</li>
<li>| 表示可选项，即 | 前后的表达式任选一个</li>
</ul>
</li>
<li><p>如果要在正则表达式中表示元字符本身，比如我就要在文本中查找问号‘?’， 那么就要使用引用符号（或称换码符号），一般是反斜杠 ‘\’。需要注意的是，在R语言中得用两个反斜杠即 ‘\\’，如要匹配括号就要写成 ’\\(\\)‘</p>
</li>
<li><p>不同语言或应用程序（事实上很多规则都通用）定义了一些特殊的元字符用于表示某类字符，如 :</p>
<ul>
<li>\d 表示数字0-9，\D 表示非数字</li>
<li>\s 表示空白字符（包括空格、制表符、换行符等），\S 表示非空白字符，</li>
<li>\w 表示字（字母和数字），\W 表示非字</li>
<li>\&lt; 和 \&gt; 分别表示以空白字符开始和结束的文本<br>需要注意的是，反斜杠 ‘\‘在R语言中得用两个反斜杠即 ‘\\’，如’\s’就要写成 ’\\s‘。</li>
</ul>
</li>
<li>正则表达式符号运算顺序：圆括号括起来的表达式最优先，然后是表示重复次数的操作（即：* + {} ），接下来是连接运算（其实就是几个字符放在一起，如abc），最后是表示可选项的运算（|）。所以 ‘foot|bar’ 可以匹配’foot‘或者’bar‘，但是 ‘foot|ba{2}r’匹配的是’foot‘或者’baar‘。</li>
<li>“贪婪”和“懒惰”的匹配规则。默认情况下是匹配尽可能多的字符，是为贪婪匹配，比如 “a.*b”默认匹配最长的a开头b结尾的字串，也就是整个字符串。如果要进行懒惰匹配，也就是匹配最短的字串，只需要在后面加个 ?，比如 “a.*?b”，就会匹配最开始找到的最短的a开头b结尾的字串</li>
</ol>
<h2 id="文本处理">文本处理</h2><h3 id="字符数统计">字符数统计</h3><p>函数nchar，统计向量中每个元素的字符个数，注意这个函数和length函数的差别：length是向量长度（向量元素的个数）。<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x &lt;- c(<span class="string">"Hellow"</span>, <span class="string">"World"</span>, <span class="string">"!"</span>) </span><br><span class="line">nchar(x); <span class="built_in">length</span>(x)</span><br><span class="line">	<span class="comment"># [1] 6 5 1 </span></span><br><span class="line">	<span class="comment"># [1] 3</span></span><br><span class="line"><span class="built_in">length</span>(<span class="string">''</span>); nchar(<span class="string">''</span>) </span><br><span class="line">	<span class="comment"># [1] 1 </span></span><br><span class="line">	<span class="comment"># [1] 0</span></span><br></pre></td></tr></table></figure></p>
<h3 id="字符大小写转化">字符大小写转化</h3><ul>
<li>函数tolower，将向量中的元素转化为小写字母</li>
<li>函数toupper，将向量中的元素转化为大写字母</li>
<li>函数casefold，将向量中的元素转化为小或大写字母（upper = F，转化为小写；upper = T，转化为大写）</li>
<li>函数chartr，按指定的规则进行转换<figure class="highlight ruleslanguage"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">tolower(x)</span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"hellow"</span> <span class="string">"world"</span>  <span class="string">"!"</span>  </span><br><span class="line">toupper(x)</span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"HELLOW"</span> <span class="string">"WORLD"</span>  <span class="string">"!"</span> </span><br><span class="line">casefold(x) <span class="array"># </span>默认upper = F</span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"hellow"</span> <span class="string">"world"</span>  <span class="string">"!"</span> </span><br><span class="line">casefold(x, upper = T)</span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"HELLOW"</span> <span class="string">"WORLD"</span>  <span class="string">"!"</span>  </span><br><span class="line"></span><br><span class="line">chartr(<span class="string">'ol'</span>, <span class="string">'pm'</span>, x) <span class="array"># o</span>转化为p，l转化为m</span><br><span class="line">	<span class="array"># </span><span class="string">"Hemmpw"</span> <span class="string">"Wprmd"</span>  <span class="string">"!"</span></span><br><span class="line">	</span><br><span class="line">DNA &lt;- <span class="string">"AtGCtttACC"</span> <span class="array"># DNA</span>为长度为<span class="number">1</span>的字符向量</span><br><span class="line">tolower(DNA) </span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"atgctttacc"</span> </span><br><span class="line">toupper(DNA) </span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"ATGCTTTACC"</span> </span><br><span class="line">chartr(<span class="string">"Tt"</span>, <span class="string">"Uu"</span>, DNA) <span class="array"># T</span>转化为U，t转化为u</span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"AuGCuuuACC"</span> </span><br><span class="line">chartr(<span class="string">"Tt"</span>, <span class="string">"UU"</span>, DNA) </span><br><span class="line">	<span class="array"># </span>[<span class="number">1</span>] <span class="string">"AUGCUUUACC"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="字符串连接">字符串连接</h3><p>函数paste应该是R中最常用字符串函数了，也是R字符串处理函数里面非常纯的不使用正则表达式的函数（因为用不着）。<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">paste(<span class="string">"CK"</span>, 1:6, sep = <span class="string">""</span>)</span><br><span class="line">	# [1] <span class="string">"CK1"</span> <span class="string">"CK2"</span> <span class="string">"CK3"</span> <span class="string">"CK4"</span> <span class="string">"CK5"</span> <span class="string">"CK6"</span></span><br><span class="line">x &lt;- <span class="keyword">list</span>(a = <span class="string">"aaa"</span>, b = <span class="string">"bbb"</span>, c = <span class="string">"ccc"</span>)</span><br><span class="line">y &lt;- <span class="keyword">list</span>(<span class="keyword">d</span> = 1, <span class="keyword">e</span> = 2)</span><br><span class="line">paste(x, y, sep = <span class="string">"-"</span>)  #较短的向量被循环使用</span><br><span class="line">	# [1] <span class="string">"aaa-1"</span> <span class="string">"bbb-2"</span> <span class="string">"ccc-1"</span></span><br></pre></td></tr></table></figure></p>
<p>paste函数还有一个用法，设置collapse参数，连成一个字符串。<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">paste(x, y, <span class="variable">sep =</span> <span class="string">"-"</span>, <span class="variable">collapse =</span> <span class="string">"; "</span>)</span><br><span class="line">	<span class="comment"># [1] "aaa-1; bbb-2; ccc-1"</span></span><br><span class="line">paste(x, <span class="variable">collapse =</span> <span class="string">"; "</span>)</span><br><span class="line">	<span class="comment"># [1] "aaa; bbb; ccc"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="字符串拆分">字符串拆分</h3><p>strsplit函数使用正则表达式，使用格式为:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strsplit(x, <span class="built_in">split</span>, fixed = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>参数x为字串向量，每个元素都将单独进行拆分。</li>
<li>参数split为拆分位置的字串向量，</li>
<li>默认为正则表达式匹配（fixed=FALSE）。如果你没接触过正则表达式，设置fixed=TRUE，表示使用普通文本匹配或正则表达式的精确匹配。普通文本的运算速度快。</li>
<li>参数perl=TRUE/FALSE的设置和perl语言版本有关，如果正则表达式很长，正确设置表达式并且使用perl=TRUE可以提高运算速度。</li>
<li>参数useBytes设置是否逐个字节进行匹配，默认为FALSE，即按字符而不是字节进行匹配。<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">text &lt;- <span class="string">"Hello Adam!\nHello Ava!"</span></span><br><span class="line">strsplit(text, <span class="string">" "</span>) # R语言的字符串事实上也是正则表达式，文本中的\n在图形输出中是被解释为换行符的。</span><br><span class="line">	# <span class="string">[[1]]</span></span><br><span class="line">	# [<span class="number">1</span>] <span class="string">"Hello"</span>        <span class="string">"Adam!\nHello"</span> <span class="string">"Ava!"</span></span><br><span class="line">strsplit(text, <span class="string">"\\s"</span>)</span><br><span class="line">	# <span class="string">[[1]]</span></span><br><span class="line">	# [<span class="number">1</span>] <span class="string">"Hello"</span> <span class="string">"Adam!"</span> <span class="string">"Hello"</span> <span class="string">"Ava!"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>strsplit得到的结果是列表，后面要怎么处理就得看情况而定了。<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">class</span>(strsplit(<span class="type">text</span>, <span class="string">"\\s"</span>))</span><br><span class="line">	<span class="comment"># [1] "list"</span></span><br></pre></td></tr></table></figure></p>
<p>有一种情况很特殊，如果split参数的字符长度为0，得到的结果就是一个个的字符。<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">strsplit(text, <span class="string">""</span>)</span><br><span class="line">	# <span class="string">[[1]]</span></span><br><span class="line">	#  [<span class="number">1</span>] <span class="string">"H"</span>  <span class="string">"e"</span>  <span class="string">"l"</span>  <span class="string">"l"</span>  <span class="string">"o"</span>  <span class="string">" "</span>  <span class="string">"A"</span>  <span class="string">"d"</span>  <span class="string">"a"</span>  <span class="string">"m"</span>  <span class="string">"!"</span>  <span class="string">"\n"</span> <span class="string">"H"</span>  <span class="string">"e"</span> </span><br><span class="line">	# [<span class="number">15</span>] <span class="string">"l"</span>  <span class="string">"l"</span>  <span class="string">"o"</span>  <span class="string">" "</span>  <span class="string">"A"</span>  <span class="string">"v"</span>  <span class="string">"a"</span>  <span class="string">"!"</span></span><br></pre></td></tr></table></figure></p>
<p>从这里也可以看到R把 \n 是当成一个字符来处理的。</p>
<h3 id="字符串查询和替换">字符串查询和替换</h3><p>R中字符串的查询函数有：grep、grepl、regexpr、gregexpr和regexpr，字符串的替换函数有sub和gsub。</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串查询</span></span><br><span class="line">grep(pattern, x, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>, <span class="built_in">value</span> = <span class="constant">FALSE</span>,</span><br><span class="line">     fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>, invert = <span class="constant">FALSE</span>)</span><br><span class="line"></span><br><span class="line">grepl(pattern, x, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>,</span><br><span class="line">      fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br><span class="line"></span><br><span class="line">regexpr(pattern, <span class="keyword">text</span>, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>,</span><br><span class="line">        fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br><span class="line"></span><br><span class="line">gregexpr(pattern, <span class="keyword">text</span>, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>,</span><br><span class="line">         fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br><span class="line"></span><br><span class="line">regexec(pattern, <span class="keyword">text</span>, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>,</span><br><span class="line">        fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br><span class="line"><span class="comment"># 字符串替换</span></span><br><span class="line">sub(pattern, replacement, x, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>,</span><br><span class="line">    fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br><span class="line"><span class="comment">## sub函数会根据pattern的规则对x中各元素进行搜索，遇到符合条件的第一个子字符串的位置，用replacement替换该子字符串，返回替换后的结果，和x的结构相同</span></span><br><span class="line">gsub(pattern, replacement, x, ignore.<span class="keyword">case</span> = <span class="constant">FALSE</span>, perl = <span class="constant">FALSE</span>,</span><br><span class="line">     fixed = <span class="constant">FALSE</span>, useBytes = <span class="constant">FALSE</span>)</span><br><span class="line"><span class="comment">## gsub函数会根据pattern的规则对x中各元素进行搜索，找出所有符合条件的子字符串的位置，用replacement替换该子字符串，返回替换后的结果，和x的结构相同</span></span><br></pre></td></tr></table></figure>
<p>这几个函数有相似的格式，都使用正则表达式的规则进行匹配。默认是egrep的规则，也可以选用Perl语言的规则。</p>
<ul>
<li>pattern为字符串表示正则表达式</li>
<li>replacement也是字符串表示替换的内容</li>
<li>x为字符型向量表示被替换的字符向量</li>
<li>参数ignore.case = FALSE，表示大小写敏感</li>
<li>参数extended = TRUE，表示使用egrep规则</li>
<li>perl = FALSE，表示不使用Perl规则</li>
<li>fixed = FALSE，表示不使用精确匹配</li>
<li>useBytes = FALSE，表示按字符匹配</li>
</ul>
<h4 id="字符串查询">字符串查询</h4><p>grep和grepl函数这两个函数返回向量水平的匹配结果，不涉及匹配字符串的详细位置信息。此外，尽管这两个函数的参数看起来差不多，但是返回结果的形式并不一样。<br>regexpr、gregexpr和regexpr这三个函数返回的结果包均含了匹配的具体位置和字符串长度信息，只是他们的结果显示方式不同。<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">text &lt;- c(<span class="string">"Hellow, Adam!"</span>, <span class="string">"Hi, Paul!"</span>, <span class="string">"How are you, Adam."</span>)</span><br><span class="line">grep(<span class="string">"Adam"</span>, text)</span><br><span class="line">	<span class="preprocessor"># [1] 1 3</span></span><br><span class="line">grepl(<span class="string">"Adam"</span>, text)</span><br><span class="line">	<span class="preprocessor"># [1]  TRUE FALSE  TRUE</span></span><br><span class="line">regexpr(<span class="string">"Adam"</span>, text)</span><br><span class="line">	<span class="preprocessor"># [1]  9  -1 14</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] 4 -1 4</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"useBytes"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] TRUE</span></span><br><span class="line">gregexpr(<span class="string">"Adam"</span>, text)</span><br><span class="line">	<span class="preprocessor"># [[1]]</span></span><br><span class="line">	<span class="preprocessor"># [1] 9</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] 4</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"useBytes"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] TRUE</span></span><br><span class="line">	<span class="preprocessor"># </span></span><br><span class="line">	<span class="preprocessor"># [[2]]</span></span><br><span class="line">	<span class="preprocessor"># [1] -1</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] -1</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"useBytes"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] TRUE</span></span><br><span class="line">	<span class="preprocessor"># </span></span><br><span class="line">	<span class="preprocessor"># [[3]]</span></span><br><span class="line">	<span class="preprocessor"># [1] 14</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] 4</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"useBytes"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] TRUE</span></span><br><span class="line">regexec(<span class="string">"Adam"</span>, text)</span><br><span class="line">	<span class="preprocessor"># [[1]]</span></span><br><span class="line">	<span class="preprocessor"># [1] 9</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] 4</span></span><br><span class="line">	<span class="preprocessor"># </span></span><br><span class="line">	<span class="preprocessor"># [[2]]</span></span><br><span class="line">	<span class="preprocessor"># [1] -1</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] -1</span></span><br><span class="line">	<span class="preprocessor"># </span></span><br><span class="line">	<span class="preprocessor"># [[3]]</span></span><br><span class="line">	<span class="preprocessor"># [1] 14</span></span><br><span class="line">	<span class="preprocessor"># attr(,<span class="title">"match.length"</span>)</span></span><br><span class="line">	<span class="preprocessor"># [1] 4</span></span><br></pre></td></tr></table></figure></p>
<h4 id="字符串替换">字符串替换</h4><p>尽管sub和gsub是用于字符串替换的函数，但严格地说R语言没有字符串替换的函数，因为R语言不管什么操作对参数都是传值不传址。<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">text</span><br><span class="line">	<span class="title"># [1</span>] <span class="string">"Hellow, Adam!"</span>      <span class="string">"Hi, Paul!"</span>          <span class="string">"How are you, Adam."</span></span><br><span class="line"><span class="keyword">sub</span><span class="comment">(pattern = "Adam", replacement = "world", text)</span></span><br><span class="line">	<span class="title"># [1</span>] <span class="string">"Hellow, world!"</span>      <span class="string">"Hi, Paul!"</span>          <span class="string">"How are you, world."</span></span><br><span class="line">text</span><br><span class="line">	<span class="title"># [1</span>] <span class="string">"Hellow, Adam!"</span>      <span class="string">"Hi, Paul!"</span>          <span class="string">"How are you, Adam."</span></span><br></pre></td></tr></table></figure></p>
<p>可以看到：虽然说是“替换”，但原字符串并没有改变，要改变原变量我们只能通过再赋值的方式。 sub和gsub的区别是前者只做一次替换（不管有几次匹配），而gsub把满足条件的匹配都做替换。<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">text1 =</span> c(<span class="string">"Hellow, Adam!"</span>, <span class="string">"Hi, Paul!"</span>, <span class="string">"How are you, Adam, Ava."</span>)</span><br><span class="line">sub(<span class="variable">pattern =</span> <span class="string">"Adam|Ava"</span>, <span class="variable">replacement =</span> <span class="string">"world"</span>, text1)</span><br><span class="line">	<span class="comment"># [1] "Hellow, world!"      "Hi, Paul!"          "How are you, world, Ava."</span></span><br><span class="line">gsub(<span class="variable">pattern =</span> <span class="string">"Adam|Ava"</span>, <span class="variable">replacement =</span> <span class="string">"world"</span>, text1)</span><br><span class="line">	<span class="comment"># [1] "Hellow, world!"      "Hi, Paul"          "How are you, world, world."</span></span><br></pre></td></tr></table></figure></p>
<p>sub和gsub函数可以使用提取表达式（转义字符+数字）让部分变成全部：<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sub</span><span class="comment">(pattern = ".*(Adam)</span>.*<span class="string">", replacement = "</span>Hi, \\<span class="number">1</span><span class="string">", text)</span><br><span class="line">	# [1] "</span>Hi, Adam<span class="string">"  "</span>Hi, Paul!<span class="string">" "</span>Hi, Adam<span class="string">"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="字符串提取">字符串提取</h2><p>substr和substring函数通过位置进行字符串拆分或提取，它们本身并不使用正则表达式，但是结合正则表达式函数regexpr、gregexpr或regexec使用可以非常方便地从大量文本中提取所需信息。两者的参数设置基本相同，但它们的返回值的长度（个数）有差别：substr返回的字串个数等于第一个参数的长度，而substring返回字串个数等于三个参数中最长向量长度，短向量循环使用。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">substr(x, <span class="operator"><span class="keyword">start</span>, <span class="keyword">stop</span>)</span><br><span class="line"><span class="keyword">substring</span>(<span class="built_in">text</span>, <span class="keyword">first</span>, <span class="keyword">last</span> = <span class="number">1000000</span>L)</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>x均为要拆分的字串向量</li>
<li>start/first 为截取的起始位置向量</li>
<li>stop/last 为截取字串的终止位置向量</li>
</ul>
<p>先看第1参数（要拆分的字符向量）长度为1例子。<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x &lt;- <span class="string">"123456789"</span></span><br><span class="line">substr(x, <span class="built_in">c</span>(<span class="number">2</span>, <span class="number">4</span>), <span class="built_in">c</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>))</span><br><span class="line">	# [<span class="number">1</span>] <span class="string">"234"</span></span><br><span class="line">substring(x, <span class="built_in">c</span>(<span class="number">2</span>, <span class="number">4</span>), <span class="built_in">c</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>))</span><br><span class="line">	# [<span class="number">1</span>] <span class="string">"234"</span>     <span class="string">"45"</span>      <span class="string">"2345678"</span></span><br></pre></td></tr></table></figure></p>
<p>因为x的向量长度为1，所以substr获得的结果只有1个字串，即第2和第3个参数向量只用了第一个组合：起始位置2，终止位置4。 而substring的语句三个参数中最长的向量为c(4,5,8)，执行时按短向量循环使用的规则第一个参数事实上就是c(x,x,x)，第二个参数就成了c(2,4,2)，最终截取的字串起始位置组合为：2-4, 4-5和2-8。</p>
<h3 id="字符串的整理">字符串的整理</h3><ul>
<li>strtrim 函数</li>
</ul>
<p>该函数用于将字符串修剪到特定的显示宽度，其用法为，<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">strtrim</span><span class="params">(x,width)</span></span></span><br></pre></td></tr></table></figure></p>
<p>返回字符串向量的长度等于x的长度。因为是“修剪”，所以只能去掉多余的字符不能增加其他额外的字符：如果字符串本身的长度小于width，得到的是原字符串，别指望它会用空格或其他什么字符补齐。<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">strtrim(<span class="built_in">c</span>(<span class="string">"abcdef"</span>, <span class="string">"abcdef"</span>, <span class="string">"abcdef"</span>), <span class="built_in">c</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>))</span><br><span class="line">	# [<span class="number">1</span>] <span class="string">"a"</span>      <span class="string">"abcde"</span>  <span class="string">"abcdef"</span></span><br><span class="line">strtrim(<span class="built_in">c</span>(<span class="number">1</span>, <span class="number">123</span>, <span class="number">1234567</span>), <span class="number">4</span>)</span><br><span class="line">	# [<span class="number">1</span>] <span class="string">"1"</span>    <span class="string">"123"</span>  <span class="string">"1234"</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>strwrap函数</li>
</ul>
<p>该函数把一个字符串当成一个段落的文字（不管字符串中是否有换行符），按照段落的格式（缩进和长度）和断字方式进行分行，每一行是结果中的一个字符串。<br><figure class="highlight mizar"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">str1 &lt;- "Each character string <span class="keyword">in</span> the input <span class="keyword">is</span> first split into paragraphs\n(<span class="keyword">or</span> lines containing whitespace only).  The paragraphs are <span class="keyword">then</span>\nformatted <span class="keyword">by</span> breaking lines at word boundaries.  The target\ncolumns <span class="keyword">for</span> wrapping lines <span class="keyword">and</span> the indentation <span class="keyword">of</span> the first <span class="keyword">and</span>\nall subsequent lines <span class="keyword">of</span> a paragraph can <span class="keyword">be</span> controlled\nindependently."</span><br><span class="line">str2 &lt;- rep(str1, 2)</span><br><span class="line">strwrap(str2, width = 80, indent = 2)</span><br><span class="line">	#  [1] "  Each character string <span class="keyword">in</span> the input <span class="keyword">is</span> first split into paragraphs (<span class="keyword">or</span> lines"</span><br><span class="line">	#  [2] "containing whitespace only).  The paragraphs are <span class="keyword">then</span> formatted <span class="keyword">by</span> breaking"  </span><br><span class="line">	#  [3] "lines at word boundaries.  The target columns <span class="keyword">for</span> wrapping lines <span class="keyword">and</span> the"     </span><br><span class="line">	#  [4] "indentation <span class="keyword">of</span> the first <span class="keyword">and</span> all subsequent lines <span class="keyword">of</span> a paragraph can <span class="keyword">be</span>"      </span><br><span class="line">	#  [5] "controlled independently."                                                    </span><br><span class="line">	#  [6] "  Each character string <span class="keyword">in</span> the input <span class="keyword">is</span> first split into paragraphs (<span class="keyword">or</span> lines"</span><br><span class="line">	#  [7] "containing whitespace only).  The paragraphs are <span class="keyword">then</span> formatted <span class="keyword">by</span> breaking"  </span><br><span class="line">	#  [8] "lines at word boundaries.  The target columns <span class="keyword">for</span> wrapping lines <span class="keyword">and</span> the"     </span><br><span class="line">	#  [9] "indentation <span class="keyword">of</span> the first <span class="keyword">and</span> all subsequent lines <span class="keyword">of</span> a paragraph can <span class="keyword">be</span>"      </span><br><span class="line">	# [10] "controlled independently."</span><br></pre></td></tr></table></figure></p>
<p>simplify参数用于指定结果的返回样式，默认为TRUE，即结果中所有的字符串都按顺序放在一个字符串向量中（如上）；如果为FALSE，那么结果将是列表。另外一个参数exdent用于指定除第一行以外的行缩进。<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">strwrap(str1, <span class="variable">width =</span> <span class="number">80</span>, <span class="variable">indent =</span> <span class="number">0</span>, <span class="variable">exdent =</span> <span class="number">2</span>)</span><br><span class="line">	<span class="comment"># [1] "Each character string in the input is first split into paragraphs (or lines"  </span></span><br><span class="line">	<span class="comment"># [2] "  containing whitespace only).  The paragraphs are then formatted by breaking"</span></span><br><span class="line">	<span class="comment"># [3] "  lines at word boundaries.  The target columns for wrapping lines and the"   </span></span><br><span class="line">	<span class="comment"># [4] "  indentation of the first and all subsequent lines of a paragraph can be"    </span></span><br><span class="line">	<span class="comment"># [5] "  controlled independently."</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>match和charmatch函数 </li>
</ul>
<p>这两个函数用于字符的匹配。<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">match</span>(<span class="string">"xx"</span>, c(<span class="string">"abc"</span>, <span class="string">"xx"</span>, <span class="string">"xxx"</span>, <span class="string">"xx"</span>))</span><br><span class="line">	<span class="comment"># [1] 2</span></span><br><span class="line"><span class="built_in">match</span>(<span class="number">2</span>, c(<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>))</span><br><span class="line">	<span class="comment"># [1] 3</span></span><br><span class="line">charmatch(<span class="string">"xx"</span>, <span class="string">"xx"</span>)</span><br><span class="line">	<span class="comment"># [1] 1</span></span><br><span class="line">charmatch(<span class="string">"xx"</span>, <span class="string">"xxa"</span>)</span><br><span class="line">	<span class="comment"># [1] 1</span></span><br><span class="line">charmatch(<span class="string">"xx"</span>, <span class="string">"axx"</span>)</span><br><span class="line">	<span class="comment"># [1] NA</span></span><br></pre></td></tr></table></figure></p>
<p>match按向量进行运算，返回第一次匹配的元素的位置（如果有），非字符向量也可用。正如原作者说的那样，charmatch函数真太坑爹了，不建议使用。</p>
<p>------<br><strong>参考文章</strong></p>
<ol>
<li>R语言进阶之二：文本（字符串）处理与正则表达式（这篇文章在许多网站都有转载，然而原创链接失效了）</li>
<li><a href="http://jianl.org/2010/02/14/2010-02-14-R%E4%B8%AD%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%80%E4%BB%8B/" target="_blank" rel="external">R中正则表达式简介</a></li>
</ol>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/技术篇/">技术篇</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/R/">R</a>, <a href="/tags/文本/">文本</a>
  </div>

<!-- Baidu Button BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
<a class="bds_qzone"></a>
<a class="bds_tsina"></a>
<a class="bds_tqq"></a>
<a class="bds_renren"></a>
<a class="bds_t163"></a>
<span class="bds_more"></span>
<a class="shareCount"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=3326447" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

 <nav id="pagination" >
    
    <a href="/2016/03/01/docement-mangement/" class="alignleft prev" >上一页</a>
    
    
    <a href="/2016/01/18/melt-and-dcast/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>
<section id="comment">

<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="/2016/02/27/char-in-R/" data-title="R中的文本处理" data-url="http://xukuang.github.io/2016/02/27/char-in-R/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"yiyuzhijian"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
  
</section>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:xukuang.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/学习篇/">学习篇</a><small>4</small></li>
  
    <li><a href="/categories/心理篇/">心理篇</a><small>2</small></li>
  
    <li><a href="/categories/技术篇/">技术篇</a><small>22</small></li>
  
    <li><a href="/categories/生活篇/">生活篇</a><small>3</small></li>
  
    <li><a href="/categories/读书篇/">读书篇</a><small>7</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/R/" style="font-size: 20px;">R</a><a href="/tags/data-talbe/" style="font-size: 10px;">data.talbe</a><a href="/tags/dplyr/" style="font-size: 15px;">dplyr</a><a href="/tags/dropbox/" style="font-size: 10px;">dropbox</a><a href="/tags/hexo/" style="font-size: 12.5px;">hexo</a><a href="/tags/numpy/" style="font-size: 10px;">numpy</a><a href="/tags/plyr/" style="font-size: 12.5px;">plyr</a><a href="/tags/python/" style="font-size: 15px;">python</a><a href="/tags/reshape2/" style="font-size: 10px;">reshape2</a><a href="/tags/tidyr/" style="font-size: 10px;">tidyr</a><a href="/tags/三维图/" style="font-size: 10px;">三维图</a><a href="/tags/坐标轴/" style="font-size: 10px;">坐标轴</a><a href="/tags/坚持/" style="font-size: 12.5px;">坚持</a><a href="/tags/娱乐/" style="font-size: 10px;">娱乐</a><a href="/tags/援助/" style="font-size: 10px;">援助</a><a href="/tags/摘录/" style="font-size: 17.5px;">摘录</a><a href="/tags/数据合并/" style="font-size: 12.5px;">数据合并</a><a href="/tags/文件系统管理/" style="font-size: 10px;">文件系统管理</a><a href="/tags/文本/" style="font-size: 10px;">文本</a><a href="/tags/旁观者/" style="font-size: 10px;">旁观者</a><a href="/tags/空间格局分析/" style="font-size: 10px;">空间格局分析</a><a href="/tags/统计/" style="font-size: 12.5px;">统计</a><a href="/tags/美食/" style="font-size: 10px;">美食</a><a href="/tags/英语/" style="font-size: 10px;">英语</a><a href="/tags/计划/" style="font-size: 10px;">计划</a><a href="/tags/重命名/" style="font-size: 10px;">重命名</a><a href="/tags/高调/" style="font-size: 10px;">高调</a>
  </div>
</div>


  <div class="widget tag">
<h3 class="title">简介</font></h3>
<ul class="entry">
<li>姓名：<a href=http://xukuang.github.io/about/>匡旭</a></li>
<li>现状：博士在读</li>
<li>Theme: <a href="https://github.com/zippera/lightum">Lightum</a></li>
<li>QQ: <font color="red">530731251</font></li>
</ul>
</div>



  <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3051539547&verifier=655ac839&colors=ffffff,d3f9bc,464646,0082cb,ecfbfd&dpc=1"></iframe>

  <div class="widget tag">
<h3 class="title">友情链接</h3>
<ul class="entry">
<li><a href="http://zipperary.com/" title="Zippera's Blog">Zippera</a></li>
<li><a href="http://jianshu.io/">简书</a></li>
</ul>
</div
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="outer">
    <div id="footer-info" class="inner" style="text-align:center;">
      <table width="100%" border="0">
        <tr>
          <td style="text-align:left" bgcolor="white">
            Copyright &copy; 2014-2016 <a href="http://xukuang.github.io/about/" target="_blank">Xu Kuang</a> &nbsp; &nbsp;<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
            Theme <a href="https://github.com/zippera/lightum" target="_blank">Lightum</a>&nbsp; &nbsp;
            Hosted on <a href="http://github.com/" target="_blank">GitHub</a>
          </td>
        </tr>
      </table>
    </div>
</div></footer>
  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
<a title="返回顶部"><img src="/imgs/scrollup.png"/></a>
</div>
<script src="/js/totop.js"></script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
</body>
</html>

